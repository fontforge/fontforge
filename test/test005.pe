#!/usr/local/bin/fontforge
#Needs: fonts/VKern.sfd

Open("fonts/VKern.sfd");
Select("A");
if ( CharInfo("Kern","V")!=-246 )
    Error("Kerning information incorrect")
endif
if ( CharInfo("Kern","W")!=-200 )
    Error("Kerning information incorrect")
endif
Select("A.vert");
if ( CharInfo("VKern","V.vert")!=-246 )
    Error("Initial VKerning information incorrect")
endif
RemoveAllVKerns()
Select("A.vert");
if ( CharInfo("VKern","V.vert")!=0 )
    Error("Initial VKerning information incorrect")
endif
VKernFromHKern()
Select("A.vert");
if ( CharInfo("VKern","V.vert")!=-246 )
    Error("After VKernFromHKern VKerning information incorrect")
endif
if ( CharInfo("VKern","W.vert")!=-200 )
    Error("After VKernFromHKern VKerning information incorrect")
endif

Generate("results/VKern.otf");
Open("results/VKern.otf");
Select("A.vert");
if ( CharInfo("VKern","V.vert")!=-246 )
    Error("From otf VKerning information incorrect")
endif
if ( CharInfo("VKern","W.vert")!=-200 )
    Error("From otf VKerning information incorrect")
endif

Generate("results/VKern.svg");
Open("results/VKern.svg");
Select("A.vert");
if ( CharInfo("VKern","V.vert")!=-246 )
    Error("From svg VKerning information incorrect")
endif
if ( CharInfo("VKern","W.vert")!=-200 )
    Error("From svg VKerning information incorrect")
endif
Quit()
